function domReady(condition: DocumentReadyState[] = ['complete', 'interactive']) {
    return new Promise(resolve => {
        if (condition.includes(document.readyState)) {
            resolve(true)
        } else {
            document.addEventListener('readystatechange', () => {
                if (condition.includes(document.readyState)) {
                    resolve(true)
                }
            })
        }
    })
}

const safeDOM = {
    append(parent: HTMLElement, child: HTMLElement) {
        if (!Array.from(parent.children).find(e => e === child)) {
            return parent.appendChild(child)
        }
    },
    remove(parent: HTMLElement, child: HTMLElement) {
        if (Array.from(parent.children).find(e => e === child)) {
            return parent.removeChild(child)
        }
    },
}

/**
 * https://tobiasahlin.com/spinkit
 * https://connoratherton.com/loaders
 * https://projects.lukehaas.me/css-loaders
 * https://matejkustec.github.io/SpinThatShit
 */
function useLoading() {
    const className = `loaders-css__square-spin`
    const styleContent = `
@import url('https://fonts.googleapis.com/css2?family=Lobster&display=swap');

@keyframes square-spin { 
25% { transform: perspective(100px) rotateX(0deg) rotateY(0);}
50% { transform: perspective(100px) rotateX(0deg) rotateY(180deg);}
75% { transform: perspective(100px) rotateX(0) rotateY(180deg);}
100% { transform: perspective(100px) rotateX(0) rotateY(0);}
}
.${className} > div {
animation-fill-mode: both;
width: 50px;
height: 50px;
animation: square-spin 2s 0s cubic-bezier(0.09, 0.57, 0.49, 0.9) infinite;
}
.app-loading-wrap {
position: fixed;
top: 0;
left: 0;
width: 100vw;
height: 100vh;
display: flex;
align-items: center;
justify-content: center;
background: #ffffff;
z-index: 9;
flex-direction: column;
}
span {
font-size: 22px;
color: rgb(75 85 99);
font-family: 'Lobster', cursive;
margin-top: 1.22rem;
font-weight: bold;

}
    `
    const oStyle = document.createElement('style')
    const oDiv = document.createElement('div')

    oStyle.id = 'app-loading-style'
    oStyle.innerHTML = styleContent
    oDiv.className = 'app-loading-wrap'
    oDiv.innerHTML = `<div class="${className}"><div><svg
                                                                                                                                                                                                                                                                                                                            version="1.1"
                                                                                                                                                                                                                                                                                                                            id="svg177"
                                                                                                                                                                                                                                                                                                                            width="59.200001"
                                                                                                                                                                                                                                                                                                                            height="59.128647"
                                                                                                                                                                                                                                                                                                                            viewBox="0 0 59.200001 59.128647"
                                                                                                                                                                                                                                                                                                                            sodipodi:docname="logo.png"
                                                                                                                                                                                                                                                                                                                            inkscape:version="1.2 (dc2aedaf03, 2022-05-15)"
                                                                                                                                                                                                                                                                                                                            xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                                                                                                                                                                                                                                                                                                                            xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
                                                                                                                                                                                                                                                                                                                            xmlns="http://www.w3.org/2000/svg"
                                                                                                                                                                                                                                                                                                                            xmlns:svg="http://www.w3.org/2000/svg">
                    <defs
                                                                                                                                                                                                                                                                                                                                id="defs181" />
                    <sodipodi:namedview
                                                                                                                                                                                                                                                                                                                                id="namedview179"
                                                                                                                                                                                                                                                                                                                                borderopacity="0.25"
                                                                                                                                                                                                                                                                                                                                inkscape:showpageshadow="2"
                                                                                                                                                                                                                                                                                                                                inkscape:pageopacity="0.0"
                                                                                                                                                                                                                                                                                                                                inkscape:pagecheckerboard="0"
                                                                                                                                                                                                                                                                                                                                showgrid="false"
                                                                                                                                                                                                                                                                                                                                inkscape:zoom="11.313709"
                                                                                                                                                                                                                                                                                                                                inkscape:cx="17.545087"
                                                                                                                                                                                                                                                                                                                                inkscape:cy="25.279067"
                                                                                                                                                                                                                                                                                                                                inkscape:window-width="2560"
                                                                                                                                                                                                                                                                                                                                inkscape:window-height="1009"
                                                                                                                                                                                                                                                                                                                                inkscape:window-x="-8"
                                                                                                                                                                                                                                                                                                                                inkscape:window-y="-8"
                                                                                                                                                                                                                                                                                                                                inkscape:window-maximized="1"
                                                                                                                                                                                                                                                                                                                                inkscape:current-layer="g187" />
                    <g
                                                                                                                                                                                                                                                                                                                                inkscape:groupmode="layer"
                                                                                                                                                                                                                                                                                                                                inkscape:label="Image"
                                                                                                                                                                                                                                                                                                                                id="g183"
                                                                                                                                                                                                                                                                                                                                transform="translate(-2.4167835,-3.0430521)">
                        <g
                                                                                                                                                                                                                                                                                                                                    id="g187"
                                                                                                                                                                                                                                                                                                                                    transform="translate(-0.23160474,-1.6212304)">
                            <path
                                                                                                                                                                                                                                                                                                                                        style="fill:#74BF04;stroke-width:0.32"
                                                                                                                                                                                                                                                                                                                                        d="M 28.85872,63.049952 C 26.932029,62.03495 25.029966,59.545622 22.043711,54.1308 18.517516,47.736931 15.116892,42.467702 10.310019,35.949571 4.1186686,27.554085 2.6483882,24.346646 2.6483882,19.235605 c 0,-7.521006 5.8729556,-14.1973588 12.8000008,-14.5509875 3.087392,-0.1576128 4.527626,0.5802467 5.741203,2.9413291 1.078725,2.09872 1.045771,5.1256594 -0.106332,9.7669844 -1.517107,6.111773 -1.203742,8.457531 2.116031,15.84 0.791443,1.76 1.837115,4.175882 2.323716,5.368627 1.101668,2.700391 2.19859,3.898723 4.02482,4.396928 0.781309,0.213146 1.61859,0.445491 1.860625,0.51632 0.353955,0.103587 0.404337,0.83217 0.257482,3.723456 -0.10042,1.977069 -0.259563,4.026669 -0.353652,4.554669 -0.173049,0.971107 -0.02839,0.577821 0.765087,-2.08 0.204706,-0.68568 0.295145,-0.53344 0.632882,1.065379 0.216727,1.025955 0.467533,1.791891 0.557344,1.70208 0.08982,-0.08981 0.0052,-0.90032 -0.187955,-1.801129 -0.495603,-2.310925 -0.463533,-7.034583 0.04875,-7.179828 0.22,-0.06237 1.039254,-0.287801 1.820563,-0.500947 1.826231,-0.498205 2.923149,-1.696537 4.024819,-4.396928 0.486601,-1.192745 1.532271,-3.608627 2.323715,-5.368627 3.319772,-7.382469 3.633139,-9.728227 2.116032,-15.84 -1.152103,-4.641325 -1.185056,-7.6682644 -0.106333,-9.7669844 1.213577,-2.3610824 2.653811,-3.0989419 5.741203,-2.9413291 6.944416,0.3545155 12.8,7.0111215 12.8,14.5509875 0,5.111041 -1.470282,8.31848 -7.661632,16.713966 -4.80687,6.518131 -8.207494,11.78736 -11.73369,18.181229 -4.285622,7.770896 -6.283052,9.662131 -10.204678,9.662131 -1.4525,0 -2.354724,-0.197757 -3.389669,-0.742979 z M 24.902013,31.029354 c -0.594224,-0.630062 -1.253184,-1.669085 -1.464356,-2.30894 -0.46943,-1.422389 -0.236608,-3.857287 0.432843,-4.526737 0.44439,-0.44439 0.589246,-0.34199 1.461198,1.032936 1.486432,2.343859 2.129506,6.4625 1.063707,6.812634 -0.227141,0.07462 -0.899167,-0.379832 -1.493392,-1.009893 z m 12.83971,0.870244 c -0.688243,-0.688241 0.168333,-4.69402 1.428727,-6.681455 0.867113,-1.367296 1.011437,-1.468856 1.455827,-1.024466 0.669453,0.66945 0.902275,3.104348 0.432845,4.526737 -0.385632,1.168473 -2.21808,3.392517 -2.795184,3.392517 -0.169885,0 -0.404883,-0.096 -0.522215,-0.213333 z"
                                                                                                                                                                                                                                                                                                                                        id="path201" />
                            <path
                                                                                                                                                                                                                                                                                                                                        style="fill:#74BF04;stroke-width:0.32"
                                                                                                                                                                                                                                                                                                                                        d="m 96.091966,61.574937 c -2.532324,-1.149773 -3.366934,-2.279273 -8.882061,-12.020355 -2.577426,-4.552371 -6.965218,-11.14287 -11.398076,-17.12 -4.719434,-6.363538 -6.386083,-10.163427 -6.386083,-14.56 0,-4.057646 1.554751,-7.785679 4.47867,-10.7391048 3.892961,-3.9322488 9.703249,-5.3093903 12.493841,-2.9612625 2.404165,2.0229725 2.81842,5.2464235 1.444929,11.2434833 -0.430408,1.879286 -0.874036,4.136884 -0.985842,5.016884 -0.305003,2.400627 0.536903,5.724477 2.531068,9.99267 0.968085,2.072031 2.132431,4.766866 2.587435,5.98852 1.342637,3.60488 3.076945,5.29881 5.425121,5.29881 0.661815,0 0.832533,0.195923 1.014116,1.163846 0.293746,1.565799 -0.07339,6.029188 -0.65486,7.961252 -0.259054,0.860771 -0.423671,1.612374 -0.365816,1.67023 0.143474,0.143475 0.702751,-1.342762 1.232522,-3.275328 l 0.438605,-1.6 0.422409,1.76 c 0.232327,0.968 0.613606,2.12 0.847296,2.56 0.55412,1.043334 0.54689,0.820563 -0.0357,-1.099971 -0.588015,-1.938426 -0.958908,-6.399559 -0.663132,-7.976183 0.181584,-0.967923 0.352301,-1.163846 1.014112,-1.163846 1.30856,0 2.8786,-0.823578 3.75134,-1.967802 0.45127,-0.591641 1.3898,-2.514921 2.08562,-4.273955 0.69582,-1.759033 1.86599,-4.461397 2.60038,-6.005251 1.59346,-3.349847 2.3928,-6.777887 2.10629,-9.032992 -0.11181,-0.88 -0.55544,-3.137598 -0.98584,-5.016884 -1.37349,-5.9970598 -0.95924,-9.2205108 1.44492,-11.2434833 2.7906,-2.3481278 8.60088,-0.9709863 12.49384,2.9612625 2.92392,2.9534258 4.47867,6.6814588 4.47867,10.7391048 0,4.392044 -1.66339,8.188155 -6.37996,14.56 -4.49672,6.074854 -8.86035,12.625286 -11.40462,17.12 -4.27916,7.559552 -5.11219,8.896666 -6.32163,10.147046 -1.56891,1.622004 -3.46797,2.4789 -5.493784,2.4789 -0.886503,0 -2.19478,-0.270055 -2.93378,-0.605591 z M 91.910484,29.540066 c -1.484239,-1.451118 -2.176225,-3.494958 -1.815033,-5.360858 0.434228,-2.243205 1.133912,-2.148195 2.337948,0.317469 1.023282,2.095509 1.51675,5.659941 0.81799,5.908527 -0.183896,0.06542 -0.787303,-0.32389 -1.340905,-0.865138 z m 12.546146,0.639768 c -0.40525,-0.655714 0.22544,-3.697207 1.17848,-5.683157 1.18398,-2.467189 1.88621,-2.563244 2.32093,-0.317469 0.36081,1.863936 -0.33049,3.90944 -1.81014,5.356073 -1.07892,1.054851 -1.36761,1.165002 -1.68927,0.644553 z"
                                                                                                                                                                                                                                                                                                                                        id="path199" />
                            <path
                                                                                                                                                                                                                                                                                                                                        style="fill:#74BF04;stroke-width:0.32"
                                                                                                                                                                                                                                                                                                                                        d="m -45.367144,56.477197 c -1.929884,-0.677357 -4.492754,-3.621632 -6.698912,-7.695843 -4.098232,-7.568397 -7.703064,-13.164096 -13.597319,-21.10681 -1.959133,-2.64 -4.055727,-5.810184 -4.659098,-7.044853 -3.422615,-7.003644 -2.544219,-13.744415 2.444058,-18.7555788 3.05262,-3.0666252 7.757802,-4.7611 10.608285,-3.8203559 3.965148,1.30861672 4.984473,5.1736225 3.212462,12.1807877 -1.513169,5.983609 -1.189581,9.339146 1.400406,14.521892 0.605197,1.211041 1.660708,3.639753 2.345581,5.397135 0.684873,1.757383 1.628551,3.697811 2.097063,4.312061 0.899495,1.179299 2.459513,2.008912 3.777589,2.008912 0.693385,0 0.817612,0.179664 1.009637,1.460176 0.262409,1.749869 -0.03595,5.135101 -0.661626,7.506928 -0.250005,0.947725 -0.391887,1.785802 -0.315293,1.862397 0.189162,0.189161 0.766749,-1.376282 1.201974,-3.257728 l 0.358143,-1.548231 0.512458,1.868231 c 0.63937,2.330883 0.939974,3.11951 1.120339,2.939149 0.07737,-0.07738 -0.06387,-0.916093 -0.313872,-1.863818 -0.625677,-2.371827 -0.924035,-5.757059 -0.661629,-7.506928 0.192026,-1.280512 0.316253,-1.460176 1.009639,-1.460176 1.318077,0 2.878093,-0.829613 3.77759,-2.008912 0.468512,-0.61425 1.412189,-2.554678 2.097063,-4.312061 0.684873,-1.757382 1.740384,-4.186094 2.34558,-5.397135 2.589988,-5.182746 2.913575,-8.538283 1.400407,-14.521892 -1.772013,-7.0071652 -0.752688,-10.87217098 3.212461,-12.1807877 2.850483,-0.9407441 7.555664,0.7537307 10.608284,3.8203559 4.988279,5.0111638 5.866672,11.7519348 2.444058,18.7555788 -0.60337,1.234669 -2.699965,4.404853 -4.659098,7.044853 -5.914502,7.97 -9.547715,13.61328 -13.597318,21.12 -3.74903,6.949549 -7.310909,9.26488 -11.818912,7.682653 z m -4.285519,-32.022745 c -1.802479,-1.516685 -2.540104,-3.72507 -1.961691,-5.873131 0.193533,-0.718727 0.539442,-1.306777 0.768687,-1.306777 0.688405,0 2.046577,2.89443 2.452822,5.227264 0.468801,2.692053 0.169758,3.155553 -1.259818,1.952644 z m 12.260223,0.38956 c -0.545184,-1.420723 1.583968,-7.569468 2.62111,-7.569468 0.360912,0 1.080618,1.811554 1.080618,2.72 0,2.229773 -3.13233,6.333298 -3.701728,4.849468 z"
                                                                                                                                                                                                                                                                                                                                        id="path197" />
                            <path
                                                                                                                                                                                                                                                                                                                                        style="fill:#74BF04;stroke-width:0.32"
                                                                                                                                                                                                                                                                                                                                        d="m -17.948686,-0.85622184 c -0.58563,-0.18740196 -1.776844,-0.98093496 -2.647141,-1.76340796 -1.590249,-1.42977 -2.078514,-2.180599 -6.392798,-9.8305252 -2.755816,-4.886509 -7.283651,-11.712003 -11.781469,-17.76 -3.659416,-4.920639 -4.896715,-7.212398 -5.799374,-10.741763 -1.029137,-4.023884 -0.737627,-6.954438 1.059814,-10.654338 3.08087,-6.341744 11.329313,-9.928987 15.424179,-6.707965 2.208784,1.73743 2.618941,5.257701 1.261143,10.824066 -1.567353,6.425443 -1.336185,9.459776 1.090666,14.316184 0.682668,1.366099 1.858192,4.045787 2.612273,5.954862 1.850851,4.685719 3.306896,6.288954 5.711572,6.288954 0.892792,0 0.958252,0.09008 1.166674,1.605488 0.252314,1.834544 -0.01141,4.795146 -0.653911,7.34089 -0.242415,0.960508 -0.378654,1.80848 -0.302752,1.88438 0.188024,0.1880262 0.766576,-1.382233 1.200656,-3.258729 l 0.358084,-1.547968 0.597693,2.187968 c 0.328733,1.203385 0.74928,2.331971 0.93455,2.507971 0.232192,0.2205732 0.281885,0.121146 0.159939,-0.32 -0.931328,-3.369034 -1.318582,-6.824118 -1.001708,-8.937194 0.203216,-1.355126 0.288524,-1.462806 1.158918,-1.462806 2.397965,0 3.8559681,-1.607165 5.7052671,-6.288954 0.75408,-1.909075 1.929603,-4.588763 2.612272,-5.954862 2.426851,-4.856408 2.658019,-7.890741 1.090669,-14.316184 -1.301018,-5.333579 -1.024339,-8.500092 0.911882,-10.436313 3.82135297,-3.821355 12.54463,-0.326052 15.7734359,6.320212 1.797444,3.6999 2.088951,6.630454 1.059815,10.654338 -0.902659,3.529365 -2.139959,5.821124 -5.7993729,10.741763 -4.497818,6.047997 -9.025654,12.873491 -11.781469,17.76 -4.312953,7.6475682 -4.802441,8.4006592 -6.3849951,9.8235102 -2.258858,2.03090596 -4.69521,2.61819896 -7.344512,1.77042296 z M -22.864933,-33.330155 c -0.451423,-0.484 -0.982365,-1.194533 -1.179869,-1.578963 -0.43162,-0.840118 -0.468905,-4.231945 -0.05374,-4.888313 0.807002,-1.27584 2.894636,2.877797 2.894636,5.75928 0,1.854969 -0.423067,2.035297 -1.661031,0.707996 z m 12.861031,-0.707996 c 0,-2.881483 2.0876351,-7.03512 2.8946371,-5.75928 0.415168,0.656368 0.377881,4.048195 -0.05374,4.888313 -0.527953,1.027631 -1.937054,2.458963 -2.420766,2.458963 -0.2904,0 -0.4201311,-0.490351 -0.4201311,-1.587996 z"
                                                                                                                                                                                                                                                                                                                                        id="path195" />
                            <path
                                                                                                                                                                                                                                                                                                                                        style="fill:#74BF04;stroke-width:0.32"
                                                                                                                                                                                                                                                                                                                                        d="m 150.33608,63.393059 c -3.38023,-1.103383 -4.07586,-1.966637 -9.91739,-12.307091 -2.74318,-4.855898 -6.33867,-10.292989 -10.64789,-16.101728 -5.07216,-6.837166 -6.30449,-9.232415 -6.97571,-13.558509 -0.97469,-6.282053 2.41761,-12.6932588 8.23845,-15.5700729 1.96925,-0.9732586 2.67266,-1.1555808 4.49939,-1.1662349 5.87078,-0.034241 7.34764,3.8959942 5.02959,13.3847908 -1.05624,4.323678 -0.97718,7.325758 0.27041,10.267701 0.44136,1.040765 1.54736,3.620299 2.45777,5.732299 0.91042,2.112 1.89654,4.416 2.19138,5.12 0.83905,2.00344 2.49514,3.653098 3.89148,3.876381 0.65798,0.105219 1.3854,0.308153 1.61648,0.450966 0.59868,0.370007 0.50749,5.758851 -0.14024,8.287175 -0.2814,1.098444 -0.50588,2.165539 -0.49883,2.371324 0.0236,0.68802 0.85868,-1.20559 1.29213,-2.929859 l 0.42835,-1.704009 0.53879,1.910668 c 0.54325,1.926477 1.22018,3.415293 1.23818,2.7232 0.005,-0.205785 -0.22051,-1.27288 -0.50192,-2.371324 -0.64773,-2.528324 -0.73892,-7.917168 -0.14023,-8.287175 0.23107,-0.142813 0.95849,-0.345747 1.61648,-0.450966 1.39634,-0.223283 3.05242,-1.872941 3.89148,-3.876381 0.29484,-0.704 1.28096,-3.008 2.19137,-5.12 0.91042,-2.112 2.01642,-4.691534 2.45777,-5.732299 1.2476,-2.941943 1.32666,-5.944023 0.27042,-10.267701 -2.31805,-9.4887966 -0.84119,-13.4190313 5.02959,-13.3847908 1.82673,0.010654 2.53014,0.1929763 4.49939,1.1662349 5.82084,2.8768141 9.21314,9.2880199 8.23844,15.5700729 -0.67345,4.340544 -1.81473,6.565036 -6.89972,13.448483 -4.35492,5.895165 -8.11545,11.592595 -10.87748,16.48 -5.14318,9.10087 -5.96509,10.237254 -8.24591,11.400842 -1.40977,0.719209 -3.84805,1.02774 -5.04202,0.638003 z m -5.70899,-32.832003 c -1.10223,-1.255372 -1.48323,-2.73636 -1.24583,-4.84264 0.21262,-1.886284 0.45671,-2.063849 1.37328,-0.99896 0.92394,1.07347 1.74361,3.693249 1.74361,5.572838 0,1.72521 -0.52595,1.800759 -1.87106,0.268762 z m 13.07106,-0.268762 c 0,-1.879589 0.81967,-4.499368 1.74362,-5.572838 0.91656,-1.064889 1.16066,-0.887324 1.37327,0.99896 0.23741,2.10628 -0.14359,3.587268 -1.24582,4.84264 -1.34511,1.531997 -1.87107,1.456448 -1.87107,-0.268762 z"
                                                                                                                                                                                                                                                                                                                                        id="path193" />
                            <path
                                                                                                                                                                                                                                                                                                                                        style="fill:#74BF04;stroke-width:0.32"
                                                                                                                                                                                                                                                                                                                                        d="m 38.168091,-1.3356348 c -2.944457,-0.562813 -4.605876,-2.364234 -8.327926,-9.0296932 -4.559308,-8.164823 -6.860493,-11.688816 -13.853076,-21.214355 -3.921538,-5.342055 -5.016938,-7.6744 -5.628059,-11.983368 -0.6285469,-4.431827 0.832152,-8.84581 4.04036,-12.209281 4.116658,-4.315886 10.184983,-5.569651 13.05696,-2.697675 2.039724,2.039725 2.214334,4.996247 0.671243,11.365593 -1.369083,5.651104 -0.974089,8.93448 1.73132,14.391521 0.654409,1.32 1.672408,3.624 2.262218,5.12 1.780285,4.515526 2.863947,5.736675 5.513666,6.213194 l 1.2,0.215808 -0.01845,3.265497 c -0.01149,2.033139 -0.231803,4.083655 -0.583796,5.433434 -0.763989,2.929648 -0.07221,2.641264 0.755568,-0.314976 l 0.633324,-2.261802 0.646676,2.260243 c 0.845849,2.956384 1.530873,3.238384 0.768918,0.316535 -0.351994,-1.349779 -0.57231,-3.400295 -0.583795,-5.433434 l -0.01844,-3.265497 1.2,-0.215808 c 2.649718,-0.476519 3.733382,-1.697668 5.513667,-6.213194 0.589808,-1.496 1.607808,-3.8 2.262218,-5.12 2.705408,-5.457041 3.100403,-8.740417 1.731318,-14.391521 -1.543091,-6.369346 -1.36848,-9.325868 0.671245,-11.365593 2.871974,-2.871976 8.940301,-1.618211 13.05696,2.697675 4.354403,4.565138 5.34137,10.882705 2.69519,17.251926 -0.537552,1.293869 -2.135833,3.957869 -3.551734,5.92 -1.415901,1.962134 -3.736378,5.180156 -5.156614,7.151167 -3.22842,4.480407 -5.845274,8.665232 -9.396525,15.026736 -1.524336,2.730608 -3.254807,5.5293512 -3.845488,6.2194312 -1.977955,2.310793 -4.758288,3.38135698 -7.446943,2.867437 z M 32.245346,-34.162143 c -1.181835,-1.25311 -1.570806,-2.667403 -1.327439,-4.826548 0.214663,-1.904486 0.463891,-2.07011 1.390722,-0.924202 0.951039,1.175838 1.726168,3.64473 1.726168,5.49808 0,1.690334 -0.382608,1.744358 -1.789451,0.25267 z m 12.989451,-0.274003 c 0,-1.780088 0.815219,-4.325271 1.766742,-5.515919 0.884845,-1.107216 1.137047,-0.927264 1.350148,0.963374 0.243366,2.159145 -0.145604,3.573438 -1.32744,4.826548 -1.411389,1.496509 -1.78945,1.43862 -1.78945,-0.274003 z"
                                                                                                                                                                                                                                                                                                                                        id="path191" />
                            <path
                                                                                                                                                                                                                                                                                                                                        style="fill:#74BF04;stroke-width:0.32"
                                                                                                                                                                                                                                                                                                                                        d="m 106.02136,-6.1517718 c -1.95856,-0.969466 -3.2969,-2.729901 -6.717423,-8.8360192 -3.552374,-6.341488 -7.809787,-12.884093 -12.545996,-19.280141 -5.773641,-7.797054 -6.885749,-10.488448 -6.650613,-16.095042 0.179355,-4.276529 1.227929,-6.701084 4.162407,-9.624482 2.648747,-2.638745 5.086063,-3.836253 8.121354,-3.990204 5.923545,-0.300443 7.680361,3.809541 5.449893,12.749728 -0.886895,3.554856 -1.051262,6.531446 -0.494165,8.949028 0.181115,0.785965 1.105229,3.089965 2.053588,5.12 0.948355,2.030034 2.098685,4.698972 2.556275,5.930972 1.47877,3.981328 2.67122,5.260714 5.37625,5.768179 l 1.18894,0.223047 -0.005,3.084387 c -0.004,2.758787 -0.44058,5.579337 -1.10776,7.164387 -0.14408,0.342307 -0.0949,0.56 0.12644,0.56 0.40079,0 0.81593,-0.948835 1.47011,-3.36 0.29701,-1.094733 0.44858,-1.347366 0.47995,-0.8 0.072,1.255651 1.11302,3.945587 1.5883,4.104013 0.31134,0.103779 0.3603,-0.0232 0.17747,-0.460349 -0.68537,-1.638771 -1.12,-4.424682 -1.12451,-7.208051 l -0.005,-3.084387 1.18894,-0.223047 c 2.70503,-0.507465 3.89748,-1.786851 5.37625,-5.768179 0.45759,-1.232 1.60792,-3.900938 2.55628,-5.930972 0.94836,-2.030035 1.87247,-4.334035 2.05359,-5.12 0.5571,-2.417582 0.39273,-5.394172 -0.49417,-8.949028 -1.67615,-6.718371 -1.07107,-10.695744 1.8542,-12.188105 1.92853,-0.98386 5.18104,-0.779659 7.78491,0.488757 2.67906,1.305043 5.65963,4.353357 6.95714,7.115258 0.8989,1.913433 1.04144,2.588691 1.15019,5.449048 0.21371,5.620529 -0.90112,8.313335 -6.66339,16.095042 -4.73622,6.396048 -8.99363,12.938653 -12.546,19.280141 -3.4333,6.1289212 -4.77831,7.8924932 -6.74564,8.8448612 -1.89038,0.915116 -4.71385,0.911318 -6.57281,-0.0088 z m -3.51257,-31.4973062 c -1.30174,-0.911772 -2.0717,-2.910137 -1.92148,-4.986982 0.0739,-1.022122 0.22998,-1.953953 0.34676,-2.070738 0.72021,-0.720206 2.45767,2.937811 2.70832,5.702044 0.17857,1.969265 0.0175,2.161918 -1.1336,1.355676 z m 12.49256,-1.355676 c 0.25066,-2.764233 1.98812,-6.42225 2.70832,-5.702044 0.11679,0.116785 0.27283,1.048616 0.34676,2.070738 0.15023,2.076845 -0.61974,4.07521 -1.92148,4.986982 -1.15107,0.806242 -1.31216,0.613589 -1.1336,-1.355676 z"
                                                                                                                                                                                                                                                                                                                                        id="path189" />
                        </g>
                    </g>
                </svg></div></div><span>Vipera</span>`

    return {
        appendLoading() {
            safeDOM.append(document.head, oStyle)
            safeDOM.append(document.body, oDiv)
        },
        removeLoading() {
            safeDOM.remove(document.head, oStyle)
            safeDOM.remove(document.body, oDiv)
        },
    }
}

// ----------------------------------------------------------------------

const { appendLoading, removeLoading } = useLoading()
domReady().then(appendLoading)

window.onmessage = ev => {
    ev.data.payload === 'removeLoading' && removeLoading()
}

setTimeout(removeLoading, 4999)
